"use strict";(self.webpackChunkwebsite=self.webpackChunkwebsite||[]).push([[90950],{55152:(e,t,n)=>{n.d(t,{Z:()=>o});const o=n.p+"assets/images/ngrok-4040-cc1679ebcafa045ed48b5a19cc8f550a.png"},24341:(e,t,n)=>{n.d(t,{Z:()=>o});const o=n.p+"assets/images/ngrok-command-11c6cd2fc2aa707fe220a1cf7c44a485.png"},82487:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>c,contentTitle:()=>a,default:()=>d,frontMatter:()=>i,metadata:()=>s,toc:()=>l});var o=n(24246),r=n(71670);const i={id:"debugging-with-ngrok",description:"Create a Markdown Document"},a="Debugging with Ngrok",s={id:"rocketchat/debugging-with-ngrok",title:"Debugging with Ngrok",description:"Create a Markdown Document",source:"@site/docs/rocketchat/debugging-with-ngrok.mdx",sourceDirName:"rocketchat",slug:"/rocketchat/debugging-with-ngrok",permalink:"/docs/next/rocketchat/debugging-with-ngrok",draft:!1,unlisted:!1,editUrl:"https://github.com/thebestornothing/thebestornothing.github.io/edit/main/website/docs/rocketchat/debugging-with-ngrok.mdx",tags:[],version:"current",lastUpdatedBy:"Gitcoins",lastUpdatedAt:1726647868,formattedLastUpdatedAt:"Sep 18, 2024",frontMatter:{id:"debugging-with-ngrok",description:"Create a Markdown Document"},sidebar:"woofwoof",previous:{title:"Rocketchat with MetaMask Code flow",permalink:"/docs/next/rocketchat/rocketchat-metamask-oauth"},next:{title:"getstream.io",permalink:"/docs/next/stream/stream-getstreamio"}},c={},l=[{value:"Installation",id:"installation",level:2},{value:"Ngrok Configuration",id:"ngrok-configuration",level:2},{value:"Login RocketChat server with forwarding URL",id:"login-rocketchat-server-with-forwarding-url",level:2},{value:"Receiving Events",id:"receiving-events",level:2}];function h(e){const t={a:"a",admonition:"admonition",code:"code",h1:"h1",h2:"h2",img:"img",p:"p",pre:"pre",strong:"strong",...(0,r.a)(),...e.components};return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(t.h1,{id:"debugging-with-ngrok",children:"Debugging with Ngrok"}),"\n",(0,o.jsx)(t.p,{children:"Ngrok is a tool and bridge allows you to expose a port on your local machine to the internet, allowing you to receive and monitor incoming requests from external sources such as webhooks. This makes Ngrok a perfect fit for debugging webhook payloads that come from Stream Chat."}),"\n",(0,o.jsx)(t.p,{children:"Ngrok is All-in-one API gateway, Kubernetes Ingress, DDoS protection, firewall, and global load balancing as a service."}),"\n",(0,o.jsxs)(t.admonition,{title:"Useful links",type:"info",children:[(0,o.jsx)(t.p,{children:(0,o.jsx)(t.a,{href:"http://localhost:4040",children:(0,o.jsx)(t.code,{children:"Ngrok provides is a web interface for inspecting incoming payloads"})})}),(0,o.jsx)(t.p,{children:(0,o.jsx)(t.a,{href:"https://ngrok.com/",children:(0,o.jsx)(t.code,{children:"Ngrok is All-in-one API gateway, Kubernetes Ingress, DDoS protection, firewall, and global load balancing as a service"})})})]}),"\n",(0,o.jsx)(t.h2,{id:"installation",children:"Installation"}),"\n",(0,o.jsx)(t.p,{children:"Ngrok can be installed on ubuntu RocketChat server using apt with the following command:"}),"\n",(0,o.jsx)(t.pre,{children:(0,o.jsx)(t.code,{className:"language-bash",children:"$ sudo apt install ngrok\n"})}),"\n",(0,o.jsxs)(t.p,{children:["Alternatively, you can download Ngrok from their website at ",(0,o.jsx)(t.a,{href:"https://ngrok.com/",children:"https://ngrok.com/"}),". Once downloaded and unzipped, place the Ngrok executable in your applications directory."]}),"\n",(0,o.jsx)(t.h2,{id:"ngrok-configuration",children:"Ngrok Configuration"}),"\n",(0,o.jsxs)(t.p,{children:["Now that Ngrok is properly installed and RocketChat Server runnig on the ",(0,o.jsx)(t.a,{href:"http://localhost:3000",children:"http://localhost:3000"}),", we'll need to spin Ngrok up on port 3000 using the following command:"]}),"\n",(0,o.jsx)(t.pre,{children:(0,o.jsx)(t.code,{className:"language-bash",children:"$ ngrok http 300\n"})}),"\n",(0,o.jsxs)(t.p,{children:['Once you execute the command listed above, Ngrok will spin up a "forwarding URL" that you can use to login the RocketChat server(',(0,o.jsx)(t.a,{href:"http://localhost:3000",children:"http://localhost:3000"}),").\nNow that your forwarding URL is available and online, copy the HTTPS forwarding URL as we will need it in the next step."]}),"\n",(0,o.jsx)("p",{align:"center",children:(0,o.jsx)(t.p,{children:(0,o.jsx)(t.img,{src:n(24341).Z+"",width:"822",height:"541"})})}),"\n",(0,o.jsx)(t.pre,{children:(0,o.jsx)(t.code,{className:"language-bash",metastring:'tittle="forwarding URL"',children:"Forwarding                    https://d6656c3ef2d4.ngrok.app -> http://localhost:3000     \n"})}),"\n",(0,o.jsx)(t.h2,{id:"login-rocketchat-server-with-forwarding-url",children:"Login RocketChat server with forwarding URL"}),"\n",(0,o.jsx)(t.p,{children:"After you login the RocketChat server with forwardnig URL, there is warning occure in the user home page which will change the site URL. RocketChat is very powerfull, when you access the server by different forwarding url, the server will give you advice to change the current forwardnig url as the site URL."}),"\n",(0,o.jsxs)(t.admonition,{type:"info",children:[(0,o.jsxs)(t.p,{children:["The setting Site URL is configured to ",(0,o.jsx)(t.a,{href:"https://212c-34-92-204-228.ngrok-free.app",children:"https://212c-34-92-204-228.ngrok-free.app"})," and you are accessing from ",(0,o.jsx)(t.a,{href:"https://d6656c3ef2d4.ngrok.app",children:"https://d6656c3ef2d4.ngrok.app"}),"!"]}),(0,o.jsxs)(t.p,{children:["Do you want to change to ",(0,o.jsx)(t.a,{href:"https://d6656c3ef2d4.ngrok.app",children:"https://d6656c3ef2d4.ngrok.app"}),"?"]})]}),"\n",(0,o.jsxs)(t.p,{children:["After change to new forwarding url like ",(0,o.jsx)(t.a,{href:"https://d6656c3ef2d4.ngrok.app",children:"https://d6656c3ef2d4.ngrok.app"}),", the RocketChat server will be no response from any request. So please restart the server again."]}),"\n",(0,o.jsx)(t.h2,{id:"receiving-events",children:"Receiving Events"}),"\n",(0,o.jsxs)(t.p,{children:['One of the many helpful tools that Ngrok provides is a web interface for inspecting incoming payloads. If you reference your terminal, you\'ll notice that there is a link for the "Web Interface" that runs on a local port \u2013 generally port 4040 if available. Navigate to ',(0,o.jsx)(t.strong,{children:(0,o.jsx)(t.a,{href:"http://localhost:4040",children:"http://localhost:4040"})})," and you will see a dashboard for Ngrok."]}),"\n",(0,o.jsx)("p",{align:"center",children:(0,o.jsx)(t.p,{children:(0,o.jsx)(t.img,{src:n(55152).Z+"",width:"1267",height:"794"})})}),"\n",(0,o.jsx)(t.p,{children:"Next, fire off an event such as a message from your chat interface to receive and inspect the payload. Once sent, the webhook will forward the payload to your Ngrok server for inspection via a POST request."})]})}function d(e={}){const{wrapper:t}={...(0,r.a)(),...e.components};return t?(0,o.jsx)(t,{...e,children:(0,o.jsx)(h,{...e})}):h(e)}},71670:(e,t,n)=>{n.d(t,{Z:()=>s,a:()=>a});var o=n(27378);const r={},i=o.createContext(r);function a(e){const t=o.useContext(i);return o.useMemo((function(){return"function"==typeof e?e(t):{...t,...e}}),[t,e])}function s(e){let t;return t=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:a(e.components),o.createElement(i.Provider,{value:t},e.children)}}}]);